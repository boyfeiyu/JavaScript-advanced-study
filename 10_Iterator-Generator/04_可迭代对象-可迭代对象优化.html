<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <script>
      // 将infos变成一个可迭代对象
      // 必须实现一个特定的还是
      // 这个函数需要返回一个迭代器
      // const infos = {
      //   friends: ["feiyu", "xiaoshuai", "jack"],
      //   [Symbol.iterator]: function () {
      //     let index = 0;
      //     const infosIterator = {
      //       next: () => {
      //         // done: Boolean
      //         // balue: 具体值/ undefined
      //         if (index < infos.friends.length) {
      //           return {
      //             done: false,
      //             value: infos.friends[index++],
      //           };
      //         } else {
      //           return {
      //             done: true,
      //           };
      //         }
      //       },
      //     };
      //     return infosIterator;
      //   },
      // };

      // // 可迭代对象可以进行 for of 操作
      // for (const i of infos) {
      //   console.log(i);
      // }

      // 2. 迭代infos中的key/value
      const infos = {
        name: "jack",
        age: 18,
        height: 188,
        [Symbol.iterator]: function () {
          const entries = Object.entries(this);
          let index = 0;
          const iterator = {
            next: function () {
              if (index < entries.length) {
                return {
                  done: false,
                  value: entries[index++],
                };
              } else {
                return {
                  done: true,
                };
              }
            },
          };
          return iterator;
        },
      };
      for (const i of infos) {
        console.log(i);
      }
    </script>
  </body>
</html>
